<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
		xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
<meta charset="UTF-8">
<title>정보수정</title>
<link rel="stylesheet" href="/css/member/socialUpdate.css">
<script>
	function updateSuccess() {
	    if (confirm("정보를 수정하시겠습니까?")) {
	    	alert("정보가 수정되었습니다.")
	        return true;
	    } else {
	       
	        event.preventDefault(); 
	        return false; 
	    }
	};
	
	function cancel() {
		  if (confirm("정말로 취소하시겠습니까?")) {
    	  window.location.href = "/Gwangs/main";
 	 	}
	};

	
</script>
</head>
<body>
	<div th:replace="~{layout/header :: header}"></div>
		<main>
		<div class="container">
		    	<div class="sidebar">
		       	<button class="menu-item" th:if="${notSocial}" onclick="openPasswordModal()">정보 수정</button>
                <button class="menu-item" th:if="${notSocial == null}" onclick="window.location.href='/member/socialUpdate'">
                   소셜 정보 수정 
                </button>
		        	 <button class="menu-item" onclick="window.location.href='/member/myReserveList'">내가 예약한 목록</button>
		    	</div>  	
		
			 <div class="content">
			        <h2>소셜 아이디 수정</h2>
			        <form id="updateForm" action="/member/updateSocial" method="post" onsubmit="return updateSuccess();">
			            <label for="name">이름 :</label>
			            <input type="text" th:value="${socialUser.user_name}" id="user_name" name="user_name" required oninput="Username()"><br>
			            <span id="name-error" style="color: red; font-size: 0.7em;"></span><br><br>
			            
			            <label for="id">아이디 :</label>
			            <input type="text" th:value="${socialUser.user_id}" id="user_id" name="user_id" readonly="readonly" >
			            <span style="color: green; font-size: 0.8em; margin-left: 10px;">아이디는 변경할 수 없습니다.</span><br><br><br>
			            
			            <label for="nickname">닉네임 :</label>
			            <input type="text" th:value="${socialUser.user_nickname}" id="user_nickname" name="user_nickname" required>
			            <span style="color: green; font-size: 0.8em; margin-left: 10px;"></span><br><br><br>
						
						 
			            <label for="phone">전화번호:</label>
			            <input type="tel" th:value="${socialUser.user_phone}" id="user_phone" name="user_phone" required><br>
						<span id="phone-error" style="color: red; font-size:0.7em;"></span><br><br>
			            
			            <input type="hidden" id="user_email" name="user_email" th:value="${socialUser.user_email}">
						<div class="button1">
				            <button type="submit">정보 수정</button>
				            <button type="button" onclick="cancel()">취소</button>
				            <button type="button" class="delete-btn" onclick="deleteUser()">회원 탈퇴</button>
						</div>	
			        </form>
			  </div>
		  </div>
	</main>
	<div th:replace="~{layout/footer :: footer}"></div>
</body>
</html>